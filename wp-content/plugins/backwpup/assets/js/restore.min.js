window.BWU=window.BWU||{},function(u,w,y,p,g,f,F){"use strict";f(window).load(function(){var e=y("?step")?y("?step"):1,o=document.querySelector("#restore_step"),t=o?o.getAttribute("data-nonce"):"",r=u.Restore.FactoryStrategy(w,t),s=u.Restore.FactoryMigrate(w,t),n=u.DecrypterFactory(w,document.querySelector("#decrypt_key"),document.querySelector("#decryption_key")),c=u.Restore.FactoryDatabaseRestore(w,t,{onMessageCallback:function(e){f("#restore_progress").text(F.restoringPrefix+e.message)},onSuccessCallback:function(){u.Restore.Functions.loadNextStep(6,t)}}),a=u.Restore.FactoryFilesRestore(w,t,{onMessageCallback:function(e){f("#restore_progress").text(F.restoringPrefix+e.message)},onSuccessCallback:function(){c.init().restore()}}),i=u.Restore.FactoryDecompress(w,t,y("?restore_file")),l=u.Restore.FactoryDownload(w,t,y("?file"),y("?service"),y("?jobid"),y("?restore_file")),d=u.Restore.FactoryController(w,t,y,p,document.querySelector("#drag-drop-area"),r,c,a,i,l,n,s);d&&(d.init(),g.isFunction(d["step"+e])&&d["step"+e]())})}(window.BWU,window.ajaxurl,window.url,window.plupload,window._,window.jQuery,window.backwpupRestoreLocalized);